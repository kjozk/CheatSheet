# Get started

## はじめに - Introduction

原文: https://platform.openai.com/docs/introduction/introduction

### 概要 - Overview

OpenAI APIは、自然言語、コード、画像の理解や生成を伴うほぼすべてのタスクに適用することができます。OpenAIは、さまざまなタスクに適した、異なるレベルのパワーを持つ[モデル](https://platform.openai.com/docs/models)を提供し、独自のカスタムモデルを微調整する能力も備えています。これらのモデルは、コンテンツ生成からセマンティック検索、分類に至るまで、あらゆる用途に使用することができます。


### キーコンセプト - Key concepts

[クイックスタート・チュートリアル](https://platform.openai.com/docs/quickstart)を完了し、ハンズオン、インタラクティブな例で主要な概念を理解することをお勧めします。

### プロンプト - Prompts
[プロンプトの設計](https://platform.openai.com/docs/guides/completion/prompt-design)は、基本的にモデルを「プログラム」する方法であり、通常はいくつかの指示やいくつかの例を提供することで行います。これは、感情分類や名前付きエンティティ認識など、単一のタスクのために設計されている他のほとんどの NLP サービスとは異なります。その代わり、生成とチャット生成のエンドポイントは、コンテンツやコードの生成、要約、展開、会話、創作、スタイル転送など、事実上あらゆるタスクに使用することができます。

### トークン - Tokens

私たちのモデルは、テキストをトークンに分解することで理解し、処理します。トークンには単語もあれば、単なる文字の塊もあります。例えば、"hamburger"という単語は、 “ham”,、“bur”、“ger”というトークンに分解されますが、“pear”のような短くて一般的な単語は、1つのトークンです。多くのトークンは空白で始まり、例えば "hello"や "bye"のようになります。

あるAPIリクエストで処理されるトークンの数は、入力と出力の両方の長さに依存します。目安としては、1トークンは約4文字、英文の場合は0.75ワードとなります。注意すべき制限として、テキストプロンプトと生成された補完を合わせて、モデルの最大コンテキスト長（ほとんどのモデルで2048トークン、または約1500ワード）以下でなければならないことが挙げられます。テキストがどのようにトークンに変換されるかについては、[トークナイザーツール](https://platform.openai.com/tokenizer)を参照してください。



### モデル - Models

APIは、性能と価格帯の異なるモデル群が搭載されています。GPT-4は、当社の最新かつ最も強力なモデルです。GPT-3.5-Turboは、ChatGPTを駆動するモデルで、会話形式用に最適化されています。これらのモデルの詳細と、私たちが提供する他のものについては、[モデルのドキュメント](https://platform.openai.com/docs/models)をご覧ください。


## クイックスタート - Quickstart

原文: https://platform.openai.com/docs/quickstart

OpenAIは、テキストの理解と生成に非常に優れた最先端の言語モデルを訓練しています。私たちのAPIは、これらのモデルへのアクセスを提供し、言語処理を伴うほぼすべてのタスクを解決するために使用することができます。

このクイックスタートチュートリアルでは、簡単なサンプルアプリケーションを構築します。その過程で、以下のようなあらゆるタスクにAPIを使用するための基礎となる主要な概念とテクニックを学びます：

- コンテンツ生成
- まとめ
- 分類、カテゴライズ、センチメント分析
- データ抽出
- 翻訳
- 他にもたくさんあります！

### はじめに - Introduction

[生成](https://platform.openai.com/docs/api-reference/completions)エンドポイントはAPIの中核をなすもので、非常に柔軟で強力なシンプルなインターフェイスを提供します。プロンプトとしてテキストを入力すると、APIはあなたが与えた指示や文脈にマッチするようなテキスト補完を返します。

|            |                                                          |
| ---------- | -------------------------------------------------------- |
| プロンプト | アイスクリームショップのキャッチコピーを書いてください。 |
| 生成結果   | 私たちは、スクープするたびに笑顔を提供します！           |

これは、非常に高度な自動生成と考えることができます。このモデルは、あなたのテキストプロンプトを処理し、次に来る可能性の高いものを予測しようとします。

### 1つの指示から始める - Start with an instruction

ペットの名前ジェネレーターを作りたいと想像してください。ゼロから名前を考えるのは大変です！

まずは、何をしたいのかが明確になるようなプロンプトが必要です。まずは命令文から。__このプロンプトを送信__ すると、最初の完成形が生成されます。

`馬の名前を1つ提案してください。`

まずまずですね！では、もっと具体的に指示を出してみましょう。
`黒い馬の名前を1つ提案してください。`

このように、プロンプトに簡単な形容詞を加えるだけで、出来上がる完成度が変わります。このように、プロンプトをデザインすることは、モデルを「プログラミング」することでもあるのです。


### 事例を追加する - Add some examples

良い結果を得るためには、良い指示を作ることが重要ですが、それだけでは不十分な場合もあります。では、さらに複雑な指示を作ってみましょう。

`スーパーヒーローのような馬の名前を3つ提案してください。`

この生成結果は、私たちが望んでいるものとはちょっと違いますね。これらの名前はかなり一般的で、私たちの指示の馬の部分をモデルが拾わなかったようです。もっと適切な提案をさせることができるか試してみましょう。

多くの場合、あなたが何を望んでいるかをモデルに見せたり、伝えたりすることが有効です。プロンプトに例を追加することで、パターンやニュアンスを伝えることができます。このプロンプトには、いくつかの例が含まれているので、提出してみてください。


```
スーパーヒーローである動物の名前を3つ提案してください。

動物: 猫
名前: キャプテンシャープクロー、エージェントフラッフボール、インクレディブルフェリン
動物: 犬
名前: ラフ・ザ・プロテクター、ワンダー・イヌ、サー・バークス・ア・ロット
動物: 馬
名前:
```
いいね！ある入力に対して期待される出力の例を追加することで、私たちが求めていた名前の種類をモデルが提供してくれるようになりました。


### 設定を調整する - Adjust your settings

自由に使えるツールは、プロンプト設計だけではありません。設定を調整することで、完成度をコントロールすることも可能です。最も重要な設定の1つはtemperatureと呼ばれるものです。

上の例で同じプロンプトを複数回送信した場合、モデルが常に同一または非常に似た完成度を返すことにお気づきでしょうか。これは、火加減が __0__ に設定されていたためです。

火加減を __1__ に設定して、同じプロンプトを何度か再投稿してみてください。

何が起こったか見てみましょう。火加減が0以上の場合、同じプロンプトを送信すると、毎回異なる生成結果になります。

モデルは、どのテキストがその前のテキストに続く可能性が最も高いかを予測することを忘れないでください。火加減は0から1の間の値で、モデルがこの予測を行う際に、どの程度自信を持つべきかを基本的に制御できます。火加減を下げると、リスクが少なくなり、より正確で確定的な生成が行われます。温度を上げると、より多様な生成が行われます。

ペットの名前ジェネレーターは、おそらく多くの名前のアイデアを生成できるようにしたいものです。0.6という適度な火加減は、うまく機能するはずです。



### アプリを作ろう - Build your application

良いプロンプトと設定が見つかったら、ペットの名前ジェネレーターを作成する準備ができました！以下の手順でコードをダウンロードし、アプリを実行してください。

#### セットアップ - Setup

Pythonがインストールされていない場合は、[ここからインストール](https://www.python.org/downloads/)してください。その後、[このリポジトリ](https://github.com/openai/openai-quickstart-python)をクローンしてコードをダウンロードします。
```
git clone https://github.com/openai/openai-quickstart-python.git
```

gitを使用しない場合は、[このZIPファイル](https://github.com/openai/openai-quickstart-python/archive/refs/heads/master.zip)を使用してコードをダウンロードすることができます。



#### APIキーを追加する - Add your API key

プロジェクトディレクトリに移動し、サンプルの環境変数ファイルのコピーを作成します。


```bash
cd openai-quickstart-python
cp .env.example .env
```

秘密のAPIキーをコピーして、新しく作成した.envファイルの`OPENAI_API_KEY`として設定します。まだ秘密鍵を作成していない場合は、以下で作成することができます。

#### アプリを実行する - Run the app
プロジェクトディレクトリで以下のコマンドを実行し、依存関係をインストールし、アプリを実行します。コマンドを実行する際、設定によっては`python`/`pip`の代わりに`python3`/`pip3`と入力する必要があるかもしれません。

```bash
python -m venv venv
. venv/bin/activate
pip install -r requirements.txt
flask run
```

ブラウザで http://localhost:5000 を開くと、ペットネームジェネレーターが表示されるはずです！

#### コードを理解する - Understand the code
`openai-quickstart-python`フォルダの中の`app.py`を開いてみてください。一番下に、上で使っていたプロンプトを生成する関数があります。ユーザーはペットの動物の種類を入力するので、プロンプトの動物を指定する部分を動的に入れ替えるのです。


```Python
def generate_prompt(animal):
    return """Suggest three names for an animal that is a superhero.

Animal: Cat
Names: Captain Sharpclaw, Agent Fluffball, The Incredible Feline
Animal: Dog
Names: Ruff the Protector, Wonder Canine, Sir Barks-a-Lot
Animal: {}
Names:""".format(animal.capitalize())
```

app.pyの14行目に、実際のAPIリクエストを送信するコードが記載されています。前述の通り、火加減0.6の[生成](https://platform.openai.com/docs/api-reference/completions)エンドポイントを使用しています。

```Python
response = openai.Completion.create(
  model="text-davinci-003",
  prompt=generate_prompt(animal),
  temperature=0.6
)
```

これでおしまいです！これで、あなたの（スーパーヒーローの）ペット名ジェネレーターがOpenAI APIをどのように使っているか、完全に理解したはずです！

